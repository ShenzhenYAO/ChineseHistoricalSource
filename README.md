# ChineseHistoricalSource
This is my personal stash of Chinese Historical Source

声明：这是个个人项目，不要用于商业用途。

# 项目目的

我一直想用做一个史料查询系统，这样的话就能想用Google一样搜索不同史料了。目前在线能找到的各种史料大概只有txt和pdf版本，这两种都不是标准化数据，不能喂到索引系统里面。

史料的文白对照不在本项目的范畴里。如果需要文白对照，我个人推荐一个移动应用"读典籍"：https://dudianji.com/mobile/

史料的电子化现在基本上弄得差不多了，这个项目就是想把电子史料标准化。

# 项目内容

这个小项目就是把txt版本的史料做两个操作：
1. 把不同汉字编码的史料标准化成utf8版本。
2. 把utf8版本的txt史料变成统一json格式

所以内容主要是三个：
1. 原始数据。这个数据来源是"猪猪书网"：http://www.zzs5.com/txt/7871.html （如有侵权请联系作者，我务必在第一时间删除）
2. 转码数据。它是把上面的数据做成utf8格式的。我用了一个在线工具"Subtitle Tools": https://subtitletools.com/convert-text-files-to-utf8-online
3. json数据。这个数据就是可以放到索引系统里的标准化数据
4. 标准化算法。我用Ruby写一些Script，把utf8格式的txt史料parse成json。

# json格式
目前支持三个Attribute：史料、章节和原文。原文的每一句话都是一个json object。
范例：
```json
{
    "source": "史记",
    "chapter": "陈涉世家",
    "text": "陈胜者，阳城人也，字涉。"
}
```

# 工程进度
raw和utf8是纯手工操作，所以已完成。

Ruby Parsing已完成：
史记

# 工程笔记

## 史记
史记这个txt比较整齐，从第五行开始是正文，所有章节都以"●卷XXX第XXX"开始。

为了以后便于搜索，章节名称我做一下简化。忽略卷目和章节数，直接写章节名称。比如，"●卷一·五帝本纪第一"，简化为"五帝本纪"。

史记包括太史公自序一共130篇，不是很长。

需要注意的是，这个txt换行并不是一句话的终点。也就是说，虽然换行了，但这句话还没完。所以不能通过换行来做分界。如果分段的话，我可以用中文的分段标记，也就是前面空两格。